#include<iostream>
#include<algorithm>
#include<string>
#include<queue>
#include<deque>
#include<vector>

#define endl "\n"
using namespace std;

string s1,s2;

void input() {
	cin >> s1>>s2;
}
int dp[1111][1111];

void solve() {	
	for (int i = 0; i < s1.size(); i++) {
		for (int j = 0; j < s2.size(); j++) {
			if (s1[i] == s2[j]) {
				dp[i + 1][j + 1] = dp[i][j] + 1;
			}
			else {
				dp[i + 1][j + 1] = max(dp[i][j + 1], dp[i + 1][j]);
			}
		}
	}
	char result[1111];
	for (int k = 1; k <= dp[s1.size()][s2.size()]; k++) {
		for (int i = 0; i <= s1.size(); i++) {
			for (int j = 0; j <= s2.size(); j++) {
				if (k == dp[i][j]) {
					result[k - 1] = s2[j - 1];
				}
			}
		}
	}
	cout << "    ";
	for (int i = 0; i < s2.size(); i++) { cout << s2[i]<<" "; }cout << endl;
	for (int i = 0; i <= s1.size(); i++) {
		if (i > 0) { cout << s1[i-1]<<" "; }
		for (int j = 0; j <= s2.size(); j++) {
			cout << dp[i][j] << " ";
		}cout << endl;
	}cout << endl;
	cout<<dp[s1.size()][s2.size()]<<endl;
	for (int i = 0; i < dp[s1.size()][s2.size()]; i++) {
		cout << result[i];
	}
}

int main(void) {
	input();
	solve();
}
